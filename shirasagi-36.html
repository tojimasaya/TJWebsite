<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>白鷺三十六景 — in progress | Toji Masaya</title>
<meta name="description" content="姫路城を三十六の光景で描く、進行中の写真プロジェクト。春と秋から始まり、季節ごとに増えていきます。">

<link rel="preload" href="/assets/fonts/YourMincho.woff2" as="font" type="font/woff2" crossorigin>
<link rel="stylesheet" href="/assets/css/site.css">
<style>
  :root{
    --ss-bg:#fafafa; --ss-ink:#1a1a1a; --ss-sub:#666;
    --ss-line:#e6e6e6; --ss-accent:#7a6a2c; /* 淡い金 */
    --ss-card:#ffffff; --ss-muted:#f2f2f2;
  }
  @media (prefers-color-scheme: dark){
    :root{
      --ss-bg:#0f0f0f; --ss-ink:#eaeaea; --ss-sub:#a3a3a3;
      --ss-line:#222; --ss-card:#151515; --ss-muted:#191919; --ss-accent:#c9b26a;
    }
  }
  body.ss{ background:var(--ss-bg); color:var(--ss-ink); }
  .ss-wrap{ max-width:1100px; margin:0 auto; padding:48px 20px 96px; }
  .ss-tag{ font-size:12px; letter-spacing:.08em; color:var(--ss-sub); border:1px solid var(--ss-line); padding:4px 8px; border-radius:999px; display:inline-block; }
  .ss-title{ font-family: "YourMincho", "Hiragino Mincho ProN", "Yu Mincho", serif; font-weight:600; font-size:clamp(28px,4vw,44px); line-height:1.25; margin:14px 0 10px; }
  .ss-sub{ color:var(--ss-sub); margin-bottom:22px; }
  .ss-lead{ font-size:clamp(14px,1.8vw,18px); color:var(--ss-ink); max-width:72ch; line-height:1.9; }
  /* progress */
  .ss-progress{ margin:28px 0 26px; }
  .ss-progress .bar{ height:8px; background:var(--ss-muted); border-radius:999px; overflow:hidden; }
  .ss-progress .bar > i{ display:block; height:100%; width:0%; background:linear-gradient(90deg,var(--ss-accent),#a99652); }
  .ss-progress .meta{ margin-top:8px; font-size:13px; color:var(--ss-sub); display:flex; gap:10px; align-items:center; }
  .ss-progress .meta b{ color:var(--ss-ink); }
  /* grid */
  .ss-grid{ display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:16px; margin-top:18px; }
  .ss-card{ background:var(--ss-card); border:1px solid var(--ss-line); border-radius:14px; overflow:hidden; display:flex; flex-direction:column; min-height:260px; }
  .ss-thumb{ aspect-ratio:4/3; background:var(--ss-muted); position:relative; overflow:hidden; }
  .ss-thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
  .ss-num{ position:absolute; top:8px; left:8px; font-size:12px; background:rgba(0,0,0,.55); color:#fff; padding:3px 7px; border-radius:999px; }
  .ss-cap{ padding:12px 12px 14px; display:flex; flex-direction:column; gap:6px; }
  .ss-name{ font-family:"YourMincho", serif; font-size:16px; line-height:1.5; }
  .ss-meta{ font-size:12px; color:var(--ss-sub); }
  /* placeholder */
  .ss-card.empty{ border-style:dashed; background:transparent; }
  .ss-card.empty .ss-thumb::after{
    content:"COMING SOON"; position:absolute; inset:0; display:grid; place-items:center;
    color:var(--ss-sub); font-size:12px; letter-spacing:.15em;
  }
  .ss-card.empty .ss-cap{ opacity:.85; }
  /* footer note */
  .ss-note{ margin-top:28px; font-size:13px; color:var(--ss-sub); }
</style>
</head>
<body class="ss">

  <main class="ss-wrap">
    <span class="ss-tag">Under Creation｜進行中のシリーズ</span>
    <h1 class="ss-title">白鷺三十六景 <span style="font-size:.55em; color:var(--ss-sub); font-weight:400;">— Thirty-Six Views of Himeji Castle</span></h1>
    <p class="ss-sub">Started: 2025 Spring / Last update: <span id="last-update">—</span></p>
    <p class="ss-lead">
      姫路城は、同じ場所でも光と季節で表情が変わる。同じ被写体を、違う時間で重ねていく小さな旅。
      まだ三十六景には届かないけれど、春・夏・秋と歩いたスケッチをここに置いていきます。
    </p>

    <section class="ss-progress" aria-label="進捗">
      <div class="bar"><i id="progress-bar"></i></div>
      <div class="meta">
        <b id="progress-count">0/36</b>
        <span id="progress-percent">0%</span>
      </div>
    </section>

    <section class="ss-grid" id="ss-grid" aria-label="白鷺三十六景の一覧"></section>

    <p class="ss-note">※ 画像を順次追加します。完成後はフォトブック化も検討中。</p>

    <section style="margin-top:60px">
      <h2 class="ss-title" style="font-size:26px; margin-bottom:8px;">制作ノート</h2>
      <p class="ss-lead" style="font-size:15px;">
        主な機材：Leica M10 / SL2-S、Xiaomi 15 Ultra。<br>
        ドローン空撮は地域のルール確認後に計画。季節ごとに数点ずつ追加予定。
      </p>
    </section>
  </main>

<script>
/**
 * 撮影済みだけを列挙。欠番は自動でプレースホルダー化。
 * number: 1〜36, title: 短い和名, season: "春/夏/秋/冬", gear: 任意, date: "YYYY-MM", src: 画像パス
 * link: クリック時に開く元画像や記事URL。openModal() があればモーダルで開きます。
 */
const entries = [
  { number: 1,  title:"朝桜の白鷺", season:"春", gear:"Leica M10 + Elmarit 28", date:"2025-04", src:"/assets/images/shirasagi/001.jpg", link:"/assets/images/shirasagi/001-large.jpg" },
  { number: 2,  title:"花影、内堀に揺れる", season:"春", gear:"Xiaomi 15 Ultra", date:"2025-04", src:"/assets/images/shirasagi/002.jpg", link:"/assets/images/shirasagi/002-large.jpg" },
  { number: 5,  title:"夏雲と天守", season:"夏", gear:"Leica SL2-S", date:"2025-08", src:"/assets/images/shirasagi/005.jpg", link:"/assets/images/shirasagi/005-large.jpg" },
  { number: 12, title:"紅に染まる腰曲輪", season:"秋", gear:"Xiaomi 15 Ultra", date:"2025-10", src:"/assets/images/shirasagi/012.jpg", link:"/assets/images/shirasagi/012-large.jpg" },
  // 追加していく
];

// ====== ここから先は触らなくてOK ======
const filledMap = new Map(entries.map(e => [e.number, e]));
const grid = document.getElementById('ss-grid');

// 進捗
const done = entries.length;
document.getElementById('progress-count').textContent = `${done}/36`;
document.getElementById('progress-percent').textContent = Math.round(done/36*100) + "%";
document.getElementById('progress-bar').style.width = (done/36*100) + "%";
document.getElementById('last-update').textContent = new Date().toISOString().slice(0,10);

// 1〜36 を生成
for(let i=1;i<=36;i++){
  const data = filledMap.get(i);
  const card = document.createElement('article');
  card.className = 'ss-card' + (data ? '' : ' empty');

  const thumb = document.createElement('figure');
  thumb.className = 'ss-thumb';

  const badge = document.createElement('span');
  badge.className = 'ss-num';
  badge.textContent = `第${String(i).padStart(2,'0')}景`;
  thumb.appendChild(badge);

  if(data){
    const img = document.createElement('img');
    img.alt = data.title + ' | 白鷺三十六景';
    img.loading = 'lazy';
    img.src = data.src;
    thumb.appendChild(img);

    // クリックで拡大（サイトに openModal があれば使用）
    thumb.style.cursor = 'zoom-in';
    thumb.addEventListener('click', () => {
      if(typeof openModal === 'function'){
        const html = `
          <div style="max-width:92vw; max-height:86vh; overflow:auto">
            <img src="${data.link || data.src}" alt="${data.title}" style="display:block; max-width:100%; height:auto">
            <div style="margin-top:8px; font-size:13px; color:#aaa">${data.title}／${data.gear || ''}（${data.date || ''}）</div>
          </div>`;
        openModal(html);
      }else if(data.link){
        window.open(data.link, '_blank');
      }
    });
  }

  const cap = document.createElement('div');
  cap.className = 'ss-cap';
  if(data){
    const name = document.createElement('div');
    name.className = 'ss-name';
    name.textContent = data.title;
    const meta = document.createElement('div');
    meta.className = 'ss-meta';
    meta.textContent = `${data.season || ''}／${data.gear || ''}${data.date ? '（'+data.date+'）' : ''}`;
    cap.appendChild(name); cap.appendChild(meta);
  }else{
    const name = document.createElement('div');
    name.className = 'ss-name';
    name.textContent = "（未掲載）";
    const meta = document.createElement('div');
    meta.className = 'ss-meta';
    meta.textContent = "COMING SOON";
    cap.appendChild(name); cap.appendChild(meta);
  }

  card.appendChild(thumb);
  card.appendChild(cap);
  grid.appendChild(card);
}
</script>
</body>
</html>
