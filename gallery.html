<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery â€” Toji Masaya</title>

    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">

    <meta name="description" content="ç”°è·¯æ˜Œä¹Ÿã®å†™çœŸã‚®ãƒ£ãƒ©ãƒªãƒ¼ã€‚ä¸–ç•Œå„åœ°ã§ã®æ—…ã®ç¬é–“ã‚’å†™çœŸã¨å‹•ç”»ã§è¨˜éŒ²ã—ã¦ã„ã¾ã™ã€‚">
    <meta name="keywords" content="ç”°è·¯æ˜Œä¹Ÿ, å†™çœŸ, ã‚®ãƒ£ãƒ©ãƒªãƒ¼, æ—…è¡Œ, ãƒ‰ãƒ­ãƒ¼ãƒ³, ãƒ©ã‚¤ã‚«">
    <meta name="author" content="Toji Masaya">

    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">

    <style>
        /* èª­ã¿è¾¼ã¿ä¸­ã®è¡¨ç¤º */
        .loading {
            text-align: center;
            padding: 60px;
            color: #666;  /* #999 â†’ #666 ã‚ˆã‚Šæ¿ƒã */
            font-style: italic;
            font-family: 'Crimson Text', serif;
            font-size: 1.1rem;
        }

        /* ã‚®ãƒ£ãƒ©ãƒªãƒ¼ãƒ¡ãƒ‡ã‚£ã‚¢ã‚³ãƒ³ãƒ†ãƒŠã®çµ±ä¸€ */
        .gallery-media {
            position: relative;
            width: 100%;
            overflow: hidden;
            background: #000;
        }

        /* å†™çœŸã®å ´åˆ */
        .gallery-media img {
            display: block;
            width: 100%;
            height: auto;
            object-fit: cover;
        }

        /* å‹•ç”»ã®å ´åˆï¼š16:9ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’ç¶­æŒ */
        .gallery-item.video .gallery-media {
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
        }

        .gallery-item.video .gallery-media iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* ãƒ—ãƒ¬ã‚¤ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ãƒœã‚¿ãƒ³ã®èª¿æ•´ */
        .gallery-item.video .play-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            border: none;
            cursor: pointer;
            z-index: 10;
        }

        .gallery-item.video .play-overlay:hover {
            background: rgba(255,255,255,0.1);
        }

        /* ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã‚¢ã‚¤ãƒ†ãƒ å…¨ä½“ã®æ§‹é€  */
        .gallery-item {
            background: white;
            overflow: hidden;
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .gallery-item:hover {
            transform: translateY(-3px);
        }

        /* ã‚®ãƒ£ãƒ©ãƒªãƒ¼æƒ…å ±éƒ¨åˆ† - Writingãƒšãƒ¼ã‚¸ã¨åŒã˜ã‚†ã£ãŸã‚Šã—ãŸã‚¹ã‚¿ã‚¤ãƒ« */
        .gallery-info {
            padding: 1.5rem 1.5rem 2rem;
        }

        /* ã‚¿ã‚¤ãƒˆãƒ« - å®Œå…¨ãªé»’ã§æœ€å¤§é™èª­ã¿ã‚„ã™ã */
        .gallery-info h3 {
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', 'YuMincho', 'HGæ˜æœE', 'MS Pæ˜æœ', 'MS æ˜æœ', serif;
            font-size: 1.2rem;
            font-weight: 600;
            line-height: 1.7;
            color: #000000;  /* å®Œå…¨ãªé»’ */
            margin-bottom: 0.8rem;
            letter-spacing: 0.05em;
        }

        /* èª¬æ˜æ–‡ - ã•ã‚‰ã«æ¿ƒã„è‰²ã§èª­ã¿ã‚„ã™ã */
        .gallery-description {
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', 'YuMincho', 'HGæ˜æœE', 'MS Pæ˜æœ', 'MS æ˜æœ', serif;
            font-size: 1rem;
            line-height: 1.9;
            color: #333;  /* #444 â†’ #333 ã•ã‚‰ã«æ¿ƒã */
            letter-spacing: 0.03em;
            margin-bottom: 1rem;
            
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        /* ãƒ¡ã‚¿æƒ…å ± - ã•ã‚‰ã«æ¿ƒã„è‰²ã§èª­ã¿ã‚„ã™ã */
        .gallery-meta {
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', 'YuMincho', 'HGæ˜æœE', 'MS Pæ˜æœ', 'MS æ˜æœ', serif;
            font-size: 0.85rem;
            color: #666;  /* #888 â†’ #666 ã•ã‚‰ã«æ¿ƒã */
            letter-spacing: 0.08em;
            display: flex;
            gap: 1rem;
            margin-top: 0.5rem;
        }

        .gallery-location,
        .gallery-date {
            display: inline-block;
        }

        /* noteè¨˜äº‹ãƒªãƒ³ã‚¯ - Writingãƒšãƒ¼ã‚¸ã®ãƒ©ãƒ™ãƒ«ã‚¹ã‚¿ã‚¤ãƒ«ã«è¿‘ã¥ã‘ã‚‹ */
        .gallery-note {
            margin-top: 1.2rem;
            padding-top: 1.2rem;
            border-top: 1px solid #f0f0f0;
        }

        .note-link {
            font-size: 0.9rem;  /* 0.85rem â†’ 0.9rem ã«å¢—ã‚„ã™ */
            color: #8b7355;
            text-decoration: none;
            transition: opacity 0.3s;
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', 'YuMincho', 'HGæ˜æœE', 'MS Pæ˜æœ', 'MS æ˜æœ', serif;
            line-height: 1.7;
        }

        .note-link:hover {
            opacity: 0.7;
        }

        /* ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        .gallery-item.hidden {
            display: none;
        }

        .gallery-item.filtering-in {
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* æ±ç”¨çš„ãªèª¿æ•´ï¼ˆæ—¢å­˜ã®ã‚¹ã‚¿ã‚¤ãƒ«ã¨ã®äº’æ›æ€§ï¼‰ */
        .gallery-grid > div,
        .gallery-grid > article {
            background: white;
            overflow: hidden;
        }

        .gallery-grid h3,
        .gallery-grid h4 {
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', 'YuMincho', 'HGæ˜æœE', 'MS Pæ˜æœ', 'MS æ˜æœ', serif;
            font-size: 1.2rem;
            font-weight: 600;
            line-height: 1.7;
            color: #000000;  /* å®Œå…¨ãªé»’ */
            letter-spacing: 0.05em;
            margin-bottom: 0.8rem;
        }

        .gallery-grid p {
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', 'YuMincho', 'HGæ˜æœE', 'MS Pæ˜æœ', 'MS æ˜æœ', serif;
            font-size: 1rem;
            line-height: 1.9;
            color: #333;  /* #444 â†’ #333 ã•ã‚‰ã«æ¿ƒã */
            letter-spacing: 0.03em;
            margin-bottom: 1rem;
            
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .gallery-grid p a {
            font-size: 0.9rem;
            color: #8b7355;
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: border-color 0.3s;
        }

        .gallery-grid p a:hover {
            border-bottom-color: #8b7355;
        }

        .gallery-grid small,
        .gallery-grid .meta,
        .gallery-grid .caption {
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', 'YuMincho', 'HGæ˜æœE', 'MS Pæ˜æœ', 'MS æ˜æœ', serif;
            font-size: 0.85rem;
            color: #666;  /* #888 â†’ #666 ã•ã‚‰ã«æ¿ƒã */
            letter-spacing: 0.08em;
            display: block;
            margin-top: 0.8rem;
        }

        /* === ãƒ¢ãƒ¼ãƒ€ãƒ«å†…ã®æƒ…å ±è¡¨ç¤º === */
        .modal-content {
            max-width: 90vw;
            max-height: 90vh;
            overflow-y: auto;
            background: white;
            border-radius: 4px;
        }

        .modal-image {
            width: 100%;
            height: auto;
            display: block;
        }

        .modal-info {
            padding: 2rem;
            background: white;
        }

        .modal-title {
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', 'YuMincho', 'HGæ˜æœE', 'MS Pæ˜æœ', 'MS æ˜æœ', serif;
            font-size: 1.8rem;
            font-weight: 600;
            line-height: 1.6;
            color: #000000;  /* å®Œå…¨ãªé»’ */
            margin-bottom: 1rem;
            letter-spacing: 0.05em;
        }

        .modal-description {
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', 'YuMincho', 'HGæ˜æœE', 'MS Pæ˜æœ', 'MS æ˜æœ', serif;
            font-size: 1.05rem;
            line-height: 2;
            color: #333;  /* #555 â†’ #333 ã•ã‚‰ã«æ¿ƒã */
            margin-bottom: 1.5rem;
            letter-spacing: 0.03em;
        }

        .modal-meta {
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', 'YuMincho', 'HGæ˜æœE', 'MS Pæ˜æœ', 'MS æ˜æœ', serif;
            font-size: 0.9rem;
            color: #666;  /* #999 â†’ #666 ã•ã‚‰ã«æ¿ƒã */
            letter-spacing: 0.08em;
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #f0f0f0;
        }

        .modal-location::before {
            content: "ğŸ“ ";
        }

        .modal-date::before {
            content: "ğŸ“… ";
        }

        .modal-note {
            margin-top: 1rem;
        }

        .modal-note .note-link {
            font-size: 0.95rem;
            color: #8b7355;
            text-decoration: none;
            transition: opacity 0.3s;
            font-family: 'Hiragino Mincho ProN', 'Yu Mincho', 'YuMincho', 'HGæ˜æœE', 'MS Pæ˜æœ', 'MS æ˜æœ', serif;
            line-height: 1.7;
            display: inline-block;
            padding: 0.8rem 1.5rem;
            border: 1px solid #8b7355;
            border-radius: 2px;
        }

        .modal-note .note-link:hover {
            background: #f9f7f4;
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–èª¿æ•´ */
        @media (max-width: 768px) {
            .gallery-info h3 {
                font-size: 1.1rem;
            }
            
            .gallery-description {
                font-size: 0.95rem;
            }
            
            .gallery-meta {
                font-size: 0.8rem;
            }

            .modal-content {
                max-width: 95vw;
                max-height: 95vh;
            }

            .modal-info {
                padding: 1.5rem;
            }

            .modal-title {
                font-size: 1.4rem;
            }

            .modal-description {
                font-size: 1rem;
            }

            .modal-meta {
                flex-direction: column;
                gap: 0.5rem;
            }
        }
    </style>
</head>

<body>
    <a href="#main-content" class="skip-link">ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã‚¹ã‚­ãƒƒãƒ—</a>

    <nav class="main-nav" id="main-nav">
        <div class="nav-container">
            <a href="/" class="nav-logo">Toji Masaya</a>
            <ul class="nav-menu" id="nav-menu">
                <li><a href="/" class="nav-link">Home</a></li>
                <li><a href="/gallery.html" class="nav-link active">Gallery</a></li>
                <li><a href="/gear.html" class="nav-link">Gear</a></li>
                <li><a href="/writings.html" class="nav-link">Writings</a></li>
                <li><a href="/hongkong.html" class="nav-link">Hong Kong</a></li>
            </ul>
            <button class="nav-toggle" id="nav-toggle" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã">
                <span></span><span></span><span></span>
            </button>
        </div>
    </nav>

    <section class="gallery-hero" role="banner">
        <div class="gallery-hero-image">
            <img src="assets/images/gallery/venice.jpg" alt="ãƒ´ã‚§ãƒãƒ„ã‚£ã‚¢ã®å¤œæ™¯" loading="eager">
            <div class="gallery-hero-overlay">
                <h1 class="gallery-hero-title">Gallery</h1>
                <p class="gallery-hero-subtitle">æ—…å…ˆã§åˆ‡ã‚Šå–ã£ãŸç¬é–“</p>
            </div>
        </div>
    </section>

    <main id="main-content" class="main-content">
        <div class="container">
            <section class="gallery-intro">
                <p class="lead">ãƒ©ã‚¤ã‚«ã‚„ãƒ‰ãƒ­ãƒ¼ãƒ³ã‚’ç‰‡æ‰‹ã«ã€ä¸–ç•Œå„åœ°ã§åˆ‡ã‚Šå–ã£ãŸç¬é–“ã€‚è¡—è§’ã®ä½•æ°—ãªã„é¢¨æ™¯ã‹ã‚‰ã€é›„å¤§ãªè‡ªç„¶ã¾ã§ã€æ—…å…ˆã§å‡ºä¼šã£ãŸå…‰æ™¯ã‚’å†™çœŸã¨å‹•ç”»ã§è¨˜éŒ²ã—ã¦ã„ã¾ã™ã€‚</p>
            </section>

            <section class="gallery-filters">
                <div class="filter-tabs">
                    <button class="filter-tab active" data-filter="all">All</button>
                    <button class="filter-tab" data-filter="videos">Videos</button>
                    <button class="filter-tab" data-filter="photos">Photos</button>
                </div>
            </section>

            <section class="main-gallery">
                <div class="gallery-grid" id="gallery-grid">
                    <div class="loading">Loading Gallery...</div>
                </div>
            </section>

            <section class="back-to-home">
                <a href="/" class="back-link">
                    <span class="back-arrow">â†</span>
                    <span>Back to Home</span>
                </a>
            </section>

            <footer class="footer">
                <div class="footer-content">
                    <p>&copy; 2025 Toji Masaya. All rights reserved.</p>
                </div>
            </footer>
        </div>
    </main>

    <div id="modal" class="modal" role="dialog" aria-hidden="true" onclick="closeModal()">
        <button class="close-modal">&times;</button>
        <div class="modal-content" id="modal-content" onclick="event.stopPropagation()"></div>
    </div>

    <script src="gallery.js"></script>
    <script>
        // Navigation Toggle
        const navToggle = document.getElementById('nav-toggle');
        const navMenu = document.getElementById('nav-menu');
        if (navToggle && navMenu) {
            navToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                navToggle.classList.toggle('active');
                document.body.classList.toggle('nav-open');
            });
        }
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('main-nav');
            if (window.scrollY > 50) nav.classList.add('scrolled');
            else nav.classList.remove('scrolled');
        });

        // === Modal Functions ===

        // å†™çœŸã‚’é–‹ãï¼ˆæ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ - gallery.jsã§å®šç¾©ï¼‰
        // ã“ã®é–¢æ•°ã¯gallery.jsã‹ã‚‰å‘¼ã°ã‚Œã‚‹
        function openModalWithInfo(element) {
            const itemData = JSON.parse(element.getAttribute('data-item'));
            
            const modal = document.getElementById('modal');
            const modalContent = document.getElementById('modal-content');
            
            // noteãƒªãƒ³ã‚¯ãŒã‚ã‚Œã°è¡¨ç¤º
            const noteLinkHtml = itemData.noteUrl ? `
                <div class="modal-note">
                    <a href="${itemData.noteUrl}" target="_blank" class="note-link">
                        ğŸ“– é–¢é€£è¨˜äº‹ï¼šã€Œ${itemData.noteTitle}ã€
                    </a>
                </div>` : '';
            
            modalContent.innerHTML = `
                <img src="${itemData.image}" alt="${itemData.title}" class="modal-image">
                <div class="modal-info">
                    <h2 class="modal-title">${itemData.title}</h2>
                    <p class="modal-description">${itemData.description}</p>
                    <div class="modal-meta">
                        <span class="modal-location">${itemData.location}</span>
                        <span class="modal-date">${itemData.date}</span>
                    </div>
                    ${noteLinkHtml}
                </div>
            `;
            
            modal.setAttribute('aria-hidden', 'false');
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('modal');
            modal.setAttribute('aria-hidden', 'true');
            modal.style.display = 'none';
            document.body.style.overflow = '';
        }

        // å‹•ç”»ã‚’é–‹ã
        function openVideo(youtubeId, title) {
            const html = `
                <div class="modal" id="videoModal" style="display:flex;" onclick="closeVideo()">
                    <button class="close-modal" onclick="closeVideo()">Ã—</button>
                    <div class="modal-video" onclick="event.stopPropagation()">
                        <iframe src="https://www.youtube.com/embed/${youtubeId}?autoplay=1&rel=0"
                                title="${title}"
                                allow="autoplay; encrypted-media; picture-in-picture"
                                allowfullscreen></iframe>
                    </div>
                </div>`;
            document.body.insertAdjacentHTML('beforeend', html);
            document.body.style.overflow = 'hidden';
        }

        function closeVideo() {
            const modal = document.getElementById('videoModal');
            if (modal) modal.remove();
            document.body.style.overflow = '';
        }

        // ESCã‚­ãƒ¼å¯¾å¿œ
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal();
                closeVideo();
            }
        });
    </script>
</body>
</html>
