<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-806426BQX2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-806426BQX2');
  </script>
  
  <title>Toji Masaya – drone/camera/travel</title>

  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" type="image/png" href="/favicon.png">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <meta name="description" content="田路昌也(TJ)のポートフォリオサイト。ライカやドローンを片手に、旅先の空気や日々の発見を写真と文章で記録しています。">
  <meta name="keywords" content="田路昌也, TJ, 旅行, 写真, ライター, 香港, カッパドキア, note">
  <meta name="author" content="Toji Masaya">

  <meta property="og:title" content="TJM – drone/camera/travel">
  <meta property="og:description" content="香港と日本を行き来しながら、旅先で出会った風景や小さな発見を写真と言葉で綴っています。イスタンブールから香港まで、ライカとドローンで切り取った世界。">
  <meta property="og:image" content="https://tojimasaya.com/assets/images/gallery/weekly.jpg">
  <meta property="og:url" content="https://tojimasaya.com">
  <meta property="og:type" content="website">

  <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400;1,600&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css">
  
  <style>
    /* 見出しのスタイル調整 */
    .latest-title {
      font-family: 'Crimson Text', serif;
      font-size: 2rem;
      font-weight: 400;
      letter-spacing: 0.05em;
      color: #2c2c2c;
      margin-bottom: 2.5rem;
      text-align: center;
    }

    /* ダークモード対応 - 見出しの色を明るく */
    @media (prefers-color-scheme: dark) {
      .latest-title {
        color: #f5f5f5;  /* より明るい色に変更 */
      }
    }

    /* レスポンシブ対応 */
    @media (max-width: 768px) {
      .latest-title {
        font-size: 1.6rem;
        margin-bottom: 2rem;
      }
    }

    /* Featured Projects セクション */
    .featured-projects {
      margin: 5rem auto 6rem;
    }

    .projects-grid-2col {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 3rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .project-card {
      background: white;
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      display: flex;
      flex-direction: column;
    }

    .project-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    .project-image {
      position: relative;
      display: block;
      overflow: hidden;
      height: 350px;
    }

    .project-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .project-card:hover .project-image img {
      transform: scale(1.05);
    }

    /* Progress Badge - 白鷺三十六景用 */
    .progress-badge {
      position: absolute;
      top: 1.5rem;
      right: 1.5rem;
      background: rgba(139, 115, 85, 0.95);
      color: white;
      padding: 0.5rem 1rem;
      font-size: 0.75rem;
      letter-spacing: 0.1em;
      font-weight: 500;
      border-radius: 2px;
      z-index: 10;
    }

    .project-info {
      padding: 2rem;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .project-label {
      font-size: 0.75rem;
      color: #999;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      margin-bottom: 1rem;
      font-family: 'Inter', sans-serif;
    }

    .project-info h3 {
      font-family: 'Hiragino Mincho ProN', 'Yu Mincho', 'YuMincho', 'HG明朝E', 'MS P明朝', 'MS 明朝', serif;
      font-size: 1.5rem;
      font-weight: 500;
      line-height: 1.6;
      color: #2c2c2c;
      margin-bottom: 1rem;
      letter-spacing: 0.05em;
    }

    .project-description {
      font-family: 'Hiragino Mincho ProN', 'Yu Mincho', 'YuMincho', 'HG明朝E', 'MS P明朝', 'MS 明朝', serif;
      font-size: 1rem;
      line-height: 1.9;
      color: #666;
      margin-bottom: 2rem;
      letter-spacing: 0.03em;
      flex: 1;
    }

    .project-btn {
      display: inline-block;
      padding: 0.9rem 2rem;
      background: #2c2c2c;
      color: white;
      text-decoration: none;
      font-size: 0.85rem;
      letter-spacing: 0.15em;
      font-family: 'Inter', sans-serif;
      transition: all 0.3s ease;
      border: 1px solid #2c2c2c;
      text-align: center;
      align-self: flex-start;
    }

    .project-btn:hover {
      background: white;
      color: #2c2c2c;
    }

    /* ダークモード対応 */
    @media (prefers-color-scheme: dark) {
      .project-card {
        background: #1a1a1a;
      }

      .project-info h3 {
        color: #f5f5f5;
      }

      .project-description {
        color: #aaa;
      }

      .project-btn {
        background: #f5f5f5;
        color: #1a1a1a;
        border-color: #f5f5f5;
      }

      .project-btn:hover {
        background: transparent;
        color: #f5f5f5;
      }

      .progress-badge {
        background: rgba(139, 115, 85, 0.9);
      }
    }

    /* レスポンシブ */
    @media (max-width: 992px) {
      .projects-grid-2col {
        gap: 2rem;
      }

      .project-image {
        height: 300px;
      }

      .project-info h3 {
        font-size: 1.3rem;
      }
    }

    @media (max-width: 768px) {
      .featured-projects {
        margin: 3rem auto 4rem;
      }

      .projects-grid-2col {
        grid-template-columns: 1fr;
        gap: 2.5rem;
      }

      .project-image {
        height: 250px;
      }

      .project-info {
        padding: 1.5rem;
      }

      .project-info h3 {
        font-size: 1.2rem;
      }

      .project-description {
        font-size: 0.95rem;
        margin-bottom: 1.5rem;
      }

      .project-btn {
        width: 100%;
      }

      .progress-badge {
        top: 1rem;
        right: 1rem;
        font-size: 0.7rem;
        padding: 0.4rem 0.8rem;
      }
    }

    /* 動画カード用のスタイル */
    .video-card {
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .video-card:hover {
      transform: translateY(-5px);
    }

    .video-thumbnail {
      position: relative;
    }

    /* カスタム再生ボタン - より目立つスタイル */
    .play-button {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80px;
      height: 80px;
      background: rgba(255, 0, 0, 0.95);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 32px;
      padding-left: 6px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 10;
    }

    .video-card:hover .play-button {
      transform: translate(-50%, -50%) scale(1.15);
      background: rgba(255, 0, 0, 1);
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
    }

    /* 動画モーダル用のスタイル（gallery.htmlと統一） */
    .modal-video {
      position: relative;
      width: 90%;
      max-width: 900px;
      aspect-ratio: 16 / 9;
    }

    .modal-video iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    @media (max-width: 768px) {
      .modal-video {
        width: 95%;
      }
      
      .play-button {
        width: 64px;
        height: 64px;
        font-size: 26px;
      }
    }
  </style>
</head>
<body>

  <nav class="main-nav">
    <div class="nav-container">
      <a href="/" class="nav-logo">TJM</a>
      <div class="nav-toggle"><span></span><span></span><span></span></div>
      <ul class="nav-menu">
        <li><a href="/" class="nav-link">Home</a></li>
        <li><a href="about.html" class="nav-link">About</a></li>
        <li><a href="gallery.html" class="nav-link">Gallery</a></li>
        <li><a href="gear.html" class="nav-link">Gear</a></li>
        <li><a href="writings.html" class="nav-link">Writings</a></li>
        <li><a href="hongkong.html" class="nav-link">Hong Kong</a></li>
      </ul>
    </div>
  </nav>

  <div class="hero">
    <div class="hero-fixed-wrapper">
      <div class="slider-container">
        
        <div class="hero-slide active">
          <img src="assets/images/gallery/castle31.jpg" alt="大晦日の姫路城">
        </div>

        <div class="hero-slide">
          <img src="assets/images/gallery/weekly.jpg" alt="Weekly">
        </div>

        <div class="hero-slide">
          <img src="assets/images/gallery/monthly.jpg" alt="Monthly">
        </div>

        <div class="hero-slide">
          <img src="assets/images/gallery/cappadocia.jpg" alt="カッパドキア">
        </div>

        <div class="hero-overlay">
          <h1 class="hero-title">LEICA, DRONE, AND TRAVEL</h1>
          <p class="lead">香港・日本を拠点に、旅の断片を写真と文章で記録しています。</p>
          <div class="hero-dots">
            <span class="dot active" data-slide="0"></span>
            <span class="dot" data-slide="1"></span>
            <span class="dot" data-slide="2"></span>
            <span class="dot" data-slide="3"></span>
          </div>
        </div>
      </div>
    </div>
    <div class="hero-spacer"></div>
  </div>

  <main class="main-content">
    
    <section class="intro container">
      <p class="lead intro-text">
        イスタンブールから香港まで。<br>
        Leica M10とドローンを片手に、旅先で出会った風景や小さな発見を写真と言葉で綴っています。
      </p>
    </section>

    <!-- Featured Projects セクション -->
    <section class="featured-projects container">
      <h2 class="latest-title">Featured Projects</h2>
      <div class="articles-grid-3col">
        
        <!-- トルコ旅行記 -->
        <article class="project-card">
          <a href="turkey-travel-journal.html" class="project-image">
            <img src="assets/images/turkey-hero.jpg" alt="トルコ旅行記">
          </a>
          <div class="project-info">
            <span class="project-label">Travel Journal</span>
            <h3>トルコ旅行記</h3>
            <p class="project-description">カッパドキアの熱気球、コンヤの旋回舞踊、パムッカレの白い石灰棚。オスマン帝国の面影から幻想的な奇岩群まで、9日間の旅の記録。</p>
            <a href="turkey-travel-journal.html" class="project-btn">旅を見る</a>
          </div>
        </article>

        <!-- 香港探訪 -->
        <article class="project-card">
          <a href="hongkong.html" class="project-image">
            <img src="https://assets.st-note.com/production/uploads/images/233920867/rectangle_large_type_2_e4b6e9ecf43f24998496720c14a0e3a3.jpeg?width=1280" alt="香港探訪">
          </a>
          <div class="project-info">
            <span class="project-label">Hong Kong</span>
            <h3>香港探訪</h3>
            <p class="project-description">消えゆくネオンの光、街角のカメラショップ、フォトジェニックな風景。香港を撮る、香港で撮る。変わりゆく街の記録。</p>
            <a href="hongkong.html" class="project-btn">香港を見る</a>
          </div>
        </article>

        <!-- 白鷺三十六景 -->
        <article class="project-card">
          <a href="shirasagi36.html" class="project-image">
            <img src="assets/images/shirasagi/21.jpg" alt="白鷺三十六景">
            <span class="progress-badge">Work in Progress</span>
          </a>
          <div class="project-info">
            <span class="project-label">Photography Project</span>
            <h3>白鷺三十六景</h3>
            <p class="project-description">姫路城を36の視点から捉える写真プロジェクト。北斎の「富嶽三十六景」に着想を得て、白鷺城の多様な表情を四季折々に記録していく。</p>
            <a href="shirasagi36.html" class="project-btn">プロジェクトを見る</a>
          </div>
        </article>

      </div>
    </section>

    <!-- Highlights セクション -->
    <section class="latest-section container">
      <h2 class="latest-title">Highlights</h2>
      <div class="articles-grid-3col">
        
        <article class="content-card">
          <a href="https://note.com/tojimasaya/n/nc507e45ecb75" target="_blank" rel="noopener" class="content-image">
            <img src="https://assets.st-note.com/production/uploads/images/238879575/rectangle_large_type_2_5fca1f331b6c75601906af25a88580b9.png?width=1280" alt="わたしがXiaomi 15 Ultraを売った理由">
          </a>
          <div class="content-info">
            <span class="card-date">note.com</span>
            <h3>わたしがXiaomi 15 Ultraを売った理由</h3>
            <p class="card-excerpt">Xiaomi 15 Ultraを手放した理由、そして次世代Xiaomi 17 Ultraへの期待。61歳のガジェット好きが語る「終わり」と「始まり」の話。</p>
            <a href="https://note.com/tojimasaya/n/nc507e45ecb75" target="_blank" rel="noopener" class="card-action-btn">Read on note</a>
          </div>
        </article>

        <article class="content-card video-card" onclick="openVideo('cJ2lFRqmeBA', 'カッパドキアのホテルから')">
          <div class="content-image video-thumbnail">
            <img src="assets/images/gallery/cappadocia-thumbnail.jpg" alt="カッパドキアのホテルから" loading="lazy">
            <div class="play-button">▶</div>
          </div>
          <div class="content-info">
            <span class="card-date">YouTube</span>
            <h3>カッパドキアのホテルから</h3>
            <p class="card-excerpt">妻と訪れたカッパドキアのホテルから眺めた朝の風景。宿泊した洞窟ホテルのベランダからドローニー撮影。</p>
            <span class="card-action-btn">Watch on YouTube</span>
          </div>
        </article>

        <article class="content-card">
          <a href="writings.html" class="content-image">
            <img src="assets/images/gallery/writings-thumb.jpg" alt="執筆記事" onerror="this.src='assets/images/gallery/weekly.jpg'">
          </a>
          <div class="content-info">
            <span class="card-date">Writings</span>
            <h3>執筆記事一覧</h3>
            <p class="card-excerpt">note、DRONE.jpでの連載記事をまとめています。旅の記録から機材レビューまで。</p>
            <a href="writings.html" class="card-action-btn">記事を見る</a>
          </div>
        </article>

      </div>
    </section>

    <section class="latest-section latest-new container">
      <h2 class="latest-title">What's New</h2>
      <div class="articles-grid-3col" id="whats-new-grid">
        <p class="text-center" style="grid-column: 1 / -1; color: var(--text-light);">
            最新の記事を読み込み中です...
        </p>
      </div>
      <div class="text-center" style="margin-top: 40px;">
        <a href="writings.html" class="card-action-btn" style="background: var(--text-light);">すべての記事を見る</a>
      </div>
    </section>

    <section class="latest-section container" style="border-bottom: none;">
      <h2 class="latest-title">Follow Me</h2>
      <div class="link-grid">
        <a href="https://www.facebook.com/masaya.toji" target="_blank" rel="noopener" class="link-item">
          <div class="link-title">Facebook</div>
          <p class="link-description">Facebookページ</p>
        </a>
        <a href="https://www.youtube.com/TJVlog" target="_blank" rel="noopener" class="link-item">
          <div class="link-title">YouTube</div>
          <p class="link-description">旅とドローンの動画</p>
        </a>
        <a href="https://x.com/mongkok93" target="_blank" rel="noopener" class="link-item">
          <div class="link-title">X</div>
          <p class="link-description">日々のつぶやき</p>
        </a>
        <a href="https://instagram.com/tojimasaya" target="_blank" rel="noopener" class="link-item">
          <div class="link-title">Instagram</div>
          <p class="link-description">日々のスナップ</p>
        </a>
        <a href="https://note.com/tojimasaya" target="_blank" rel="noopener" class="link-item">
          <div class="link-title">note</div>
          <p class="link-description">記事とコラム</p>
        </a>
      </div>
    </section>

  </main>

  <footer class="footer">
    <div class="container">
      <p>&copy; 2024 Toji Masaya. All rights reserved.</p>
    </div>
  </footer>
  
  <script>
    // ヒーロースライダーのJavaScript
    (function() {
      const sliderContainer = document.querySelector('.slider-container');
      if (!sliderContainer) return;

      const slides = Array.from(document.querySelectorAll('.hero-slide'));
      const dots = Array.from(document.querySelectorAll('.hero-dots .dot'));
      let currentSlide = 0;
      let intervalId;
      const slideInterval = 6000; // 6秒（少し長めに）

      function changeSlide(nextIndex) {
        if (nextIndex === currentSlide) return;
        
        const current = slides[currentSlide];
        const next = slides[nextIndex];

        // 現在のスライドをフェードアウト
        current.classList.remove('active');
        
        // 次のスライドをフェードイン
        next.classList.add('active');

        // ドットの更新
        dots[currentSlide].classList.remove('active');
        dots[nextIndex].classList.add('active');

        currentSlide = nextIndex;
      }

      // 自動スライド
      function startAutoSlide() {
        intervalId = setInterval(() => {
          const nextIndex = (currentSlide + 1) % slides.length;
          changeSlide(nextIndex);
        }, slideInterval);
      }

      // ドットクリックイベント
      dots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
          clearInterval(intervalId);
          changeSlide(index);
          startAutoSlide();
        });
      });

      // 初期化
      startAutoSlide();

      // ページが非表示になったら自動スライドを停止
      document.addEventListener('visibilitychange', () => {
        if (document.hidden) {
          clearInterval(intervalId);
        } else {
          clearInterval(intervalId);
          startAutoSlide();
        }
      });
    })();

    // ナビゲーション トグル
    document.querySelector('.nav-toggle').addEventListener('click', function() {
      document.querySelector('.nav-menu').classList.toggle('active');
    });

    // スムーズスクロール
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();

            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });

    // External links security
    document.querySelectorAll('a[target="_blank"]').forEach(link => {
        link.rel = 'noopener noreferrer';
    });

    // What's New セクションの記事読み込み
    async function loadWhatsNew() {
      const container = document.getElementById('whats-new-grid');
      
      try {
        // まずwritings-og.jsonを読み込む（画像取得用）
        const ogResponse = await fetch('/data/writings-og.json');
        if (!ogResponse.ok) throw new Error(`HTTP ${ogResponse.status}`);
        const articlesData = await ogResponse.json();
        
        // note記事をRSSから取得（最新2件）
        const noteFeeds = [
          { url: 'https://note.com/tojimasaya/m/m22c44596304b/rss', name: '香港レンズ' },
          { url: 'https://note.com/tojimasaya/m/md99dd54590fa/rss', name: '次はどこへ' },
          { url: 'https://note.com/tojimasaya/m/mcae365b520ed/rss', name: '俺流トラベルガジェット' }
        ];
        
        const noteArticles = [];
        
        // 各フィードから記事を取得
        for (const feed of noteFeeds) {
          try {
            const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(feed.url)}`;
            const response = await fetch(proxyUrl);
            const xmlText = await response.text();
            
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(xmlText, 'text/xml');
            
            const items = xmlDoc.querySelectorAll('item');
            items.forEach((item, index) => {
              if (index < 2) {
                const title = item.querySelector('title')?.textContent || '';
                const link = item.querySelector('link')?.textContent || '';
                const description = item.querySelector('description')?.textContent || '';
                const pubDate = item.querySelector('pubDate')?.textContent || '';
                
                const excerpt = description.replace(/<[^>]*>/g, '').substring(0, 60) + '...';
                const date = new Date(pubDate);
                
                // writings-og.jsonから画像を取得
                const ogData = articlesData[link];
                const imageUrl = ogData?.image || 'assets/images/gallery/weekly.jpg';
                
                noteArticles.push({
                  title,
                  link,
                  excerpt,
                  date: date.toISOString(),
                  imageUrl,
                  source: 'note'
                });
              }
            });
          } catch (error) {
            console.error(`RSS取得エラー (${feed.name}):`, error);
          }
        }
        
        // 日付でソートして最新2件を取得
        noteArticles.sort((a, b) => new Date(b.date) - new Date(a.date));
        const latestNoteArticles = noteArticles.slice(0, 2);
        
        // DRONE.jp記事をwritings-og.jsonから取得（最新1件）
        
        const droneArticles = Object.entries(articlesData)
          .filter(([url]) => url.includes('drone.jp/column'))
          .sort((a, b) => {
            const dateA = a[0].match(/(\d{14})/)?.[1] || '0';
            const dateB = b[0].match(/(\d{14})/)?.[1] || '0';
            return dateB.localeCompare(dateA);
          })
          .map(([url, data]) => {
            const dateStr = url.match(/(\d{14})/)?.[1] || '';
            let formattedDate = '';
            if (dateStr.length >= 8) {
              const year = dateStr.substring(0, 4);
              const month = parseInt(dateStr.substring(4, 6), 10);
              const day = parseInt(dateStr.substring(6, 8), 10);
              formattedDate = `${year}年${month}月${day}日`;
            }
            
            return {
              title: data.title || 'DRONE.jp連載記事',
              link: url,
              excerpt: data.description?.substring(0, 60) + '...' || '',
              imageUrl: data.image || 'assets/images/gallery/hongkong.jpg',
              formattedDate,
              source: 'DRONE.jp'
            };
          })
          .slice(0, 1);
        
        // 記事を結合（note2 + drone1）
        const allArticles = [...latestNoteArticles, ...droneArticles];
        
        if (allArticles.length > 0) {
          container.innerHTML = allArticles.map(article => `
            <article class="content-card">
              <a href="${article.link}" target="_blank" rel="noopener" class="content-image">
                <img src="${article.imageUrl}" alt="${article.title}" onerror="this.src='assets/images/gallery/weekly.jpg'">
              </a>
              <div class="content-info">
                <span class="card-date">${article.source}</span>
                <h3>${article.title}</h3>
                <p class="card-excerpt">${article.excerpt}</p>
                <a href="${article.link}" target="_blank" rel="noopener" class="card-action-btn">読む</a>
              </div>
            </article>
          `).join('');
        } else {
          throw new Error('No articles found');
        }
      } catch (error) {
        console.error('What\'s New loading error:', error);
        // エラー時は静的コンテンツを表示
        container.innerHTML = `
          <article class="content-card">
            <a href="https://note.com/tojimasaya" target="_blank" rel="noopener" class="content-image">
              <img src="assets/images/gallery/weekly.jpg" alt="note">
            </a>
            <div class="content-info">
              <span class="card-date">note</span>
              <h3>noteで最新記事を公開中</h3>
              <p class="card-excerpt">旅の記録、機材レビュー、香港での日常を綴っています。</p>
              <a href="https://note.com/tojimasaya" target="_blank" rel="noopener" class="card-action-btn">noteを見る</a>
            </div>
          </article>
          <article class="content-card">
            <a href="https://note.com/tojimasaya" target="_blank" rel="noopener" class="content-image">
              <img src="assets/images/gallery/istanbul.jpg" alt="note">
            </a>
            <div class="content-info">
              <span class="card-date">note</span>
              <h3>香港から世界へ</h3>
              <p class="card-excerpt">香港を拠点に、旅やカメラについて自由に綴っています。</p>
              <a href="https://note.com/tojimasaya" target="_blank" rel="noopener" class="card-action-btn">noteを見る</a>
            </div>
          </article>
          <article class="content-card">
            <a href="https://drone.jp/column/masaya-toji" target="_blank" rel="noopener" class="content-image">
              <img src="assets/images/gallery/hongkong.jpg" alt="DRONE.jp">
            </a>
            <div class="content-info">
              <span class="card-date">DRONE.jp</span>
              <h3>中国・香港ドローン便り</h3>
              <p class="card-excerpt">月1回連載中。空撮ノウハウやドローン旅のレポート。</p>
              <a href="https://drone.jp/column/masaya-toji" target="_blank" rel="noopener" class="card-action-btn">連載を見る</a>
            </div>
          </article>
        `;
      }
    }
    
    // ページ読み込み時に実行
    document.addEventListener('DOMContentLoaded', loadWhatsNew);

    // 動画モーダル関連の関数（gallery.htmlと同じ実装）
    function openVideo(youtubeId, title) {
      const html = `
        <div class="modal" id="videoModal" style="display:flex;" onclick="closeVideo()">
          <button class="close-modal" onclick="closeVideo()">×</button>
          <div class="modal-video" onclick="event.stopPropagation()">
            <iframe src="https://www.youtube.com/embed/${youtubeId}?autoplay=1&rel=0"
                    title="${title}"
                    allow="autoplay; encrypted-media; picture-in-picture"
                    allowfullscreen></iframe>
          </div>
        </div>`;
      document.body.insertAdjacentHTML('beforeend', html);
      document.body.style.overflow = 'hidden';
    }

    function closeVideo() {
      const modal = document.getElementById('videoModal');
      if (modal) modal.remove();
      document.body.style.overflow = '';
    }

    // ESCキーで動画を閉じる
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeVideo();
      }
    });
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "田路昌也",
    "alternateName": "Toji Masaya",
    "jobTitle": "Writer and Travel Photographer",
    "url": "https://tojimasaya.com",
    "sameAs": [
      "https://note.com/tojimasaya",
      "https://instagram.com/tojimasaya",
      "https://www.drone.jp/"
    ]
  }
  </script>
</body>
</html>
